# api_yamdb ![GitHub Actions status](https://github.com/proforg77/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg)

### Проект YaMDb собирает отзывы (Review) пользователей на произведения (Titles). Произведения делятся на категории: «Книги», «Фильмы», «Музыка». Список категорий (Category) может быть расширен администратором (например, можно добавить категорию «Изобразительное искусство» или «Ювелирка»).
### Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
### В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории «Книги» могут быть произведения «Винни-Пух и все-все-все» и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Насекомые» и вторая сюита Баха.
### Произведению может быть присвоен жанр (Genre) из списка предустановленных (например, «Сказка», «Рок» или «Артхаус»). Новые жанры может создавать только администратор.

## Как запустить проект:
Клонируйте репозиторий и перейдите в него в командной строке:

```
git clone git@github.com:proforg/infra_sp2.git
```

```

cd infra_sp2
```

Создайте .env файл в каталоге infra/ и опишите следующие переменные:
- SECRET_KEY=токен
- DB_ENGINE=django.db.backends.postgresql
- DB_NAME=название БД
- POSTGRES_USER= имя пользователя БД
- POSTGRES_PASSWORD= пароль для доступа к БД
- DB_HOST=db
- DB_PORT=5432

Из папки infra/ соберите образ при помощи docker-compose
```
cd infra
```

```
docker-compose up -d --build
```
Примените миграции

```
docker-compose exec web python manage.py migrate
```

Соберите статику
```
docker-compose exec web python manage.py collectstatic --no-input
```

Создайте суперюзера
```
docker-compose exec web python manage.py createsuperuser
```
Теперь портал будет доступен по адресу http://127.0.0.1 на 80 порту
Админка находится по адресу http://127.0.0.1/admin

### Автор: Пётр Шляпцев
